<!doctype html>
<html>

<head>
</head>

<body>
    <ul id='list'>
        <li>Item 1</li>
        <li>Item 2</li>
        <li>Item 3</li>
        <li>Item 4</li>
    </ul>
    <button onclick="addItem()">Add item</button>
    <button onclick="addItemCenter()">Add item in center</button>
    <button onclick="removeItem()">Remove second item</button>
    <button onclick="insertItem()">Insert item</button>
    <script>
        function addItem() {
            var newItem = document.createElement('li');
            newItem.innerText = "New item";
            list.appendChild(newItem);
        }

        function addItemCenter() {
            var n = 0;
            var centerItem = 0;
            var lengthLi = document.querySelectorAll('ul li');
            var newItem = document.createElement('li');
            newItem.innerText = "Center item";
            console.log(lengthLi.length);
            for (var element of list.childNodes) {
                if (element.tagName == "LI") n++;
                if (n > (lengthLi.length) / 2 && (lengthLi.length) % 2 == 0) {
                    centerItem = element;
                    list.insertBefore(newItem, centerItem);
                    break;
                }
                if (n == Math.ceil((lengthLi.length) / 2) && (lengthLi.length) % 2 != 0) {
                    centerItem = element;
                    list.insertBefore(newItem, centerItem);
                    break;
                }
            }
        }

        function removeItem() {
            var n = 0;
            var element2 = false;
            for (var element of list.childNodes) {
                if (element.tagName == "LI") n++;
                if (n == 2) {
                    element2 = element;
                    break;
                }
            }
            if (element2) list.removeChild(element2);
        }

        function insertItem() {
            var firstItem = list.childNodes[0];
            var newItem = document.createElement('li');
            newItem.innerText = "New item";
            list.insertBefore(newItem, firstItem);
        }
    </script>
</body>

</html>